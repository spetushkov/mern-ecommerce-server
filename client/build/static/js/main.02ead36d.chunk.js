(this["webpackJsonpmern-ecommerce-client"]=this["webpackJsonpmern-ecommerce-client"]||[]).push([[0],{180:function(e,t,a){e.exports=a(342)},341:function(e,t,a){},342:function(e,t,a){"use strict";a.r(t);var r,n,c,u,l,i,o,s,m,d,p,E,f,b,v,h,O,R,j,g,y,k,x,_,P,S,w,I,A,T,C,D,U,N,L,B,F=a(0),M=a.n(F),z=a(42),H=a.n(z),V=a(13),Y=a(44),G=a(36),Q=a(37),q=function(e){console.log(e)},$=function(e){Object(Q.a)(a,e);var t=Object(G.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"componentDidCatch",value:function(e,t){q(JSON.stringify({error:e,errorInfo:t})),this.setState({errorInfo:t})}},{key:"render",value:function(){if(!this.state)return this.props.children;var e=this.state,t=e.error,a=e.errorInfo;return t?M.a.createElement("div",null,M.a.createElement("div",null,M.a.createElement("p",null,"There was an error in loading this page.")),a&&M.a.createElement("div",null,M.a.createElement("details",null,M.a.createElement("summary",null,"Click for error details"),a.componentStack))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),a}(M.a.Component),W=a(351),K=a(17),J=a(14),X=a(348),Z=a(152),ee=a(363),te=a(362),ae=a(349),re=a(364),ne=a(153),ce=a(148),ue=a(10),le=function(e){var t=e.error,a=t.message,r=t.stack,n=Object(F.useState)(),c=Object(J.a)(n,2),u=c[0],l=c[1];return Object(F.useEffect)((function(){if(t.isAxiosError){var e=t;e.response&&e.response.data.error&&l(e.response.data.error)}}),[t]),M.a.createElement("div",null,M.a.createElement("div",null,M.a.createElement(te.a,{variant:"danger"},a)),(u||r)&&M.a.createElement("div",null,M.a.createElement("details",null,M.a.createElement("summary",null,"Click for error details"),u&&M.a.createElement("div",null,u),r&&M.a.createElement("div",null,r))))},ie=a(347),oe=function(){return M.a.createElement(ie.a,{animation:"border",role:"status",style:se.container},M.a.createElement("span",{className:"sr-only"},"Loading..."))},se={container:{width:"100px",height:"100px",margin:"auto",display:"block"}},me=function(){return M.a.createElement(oe,null)},de=function(e){return Math.round(100*e)/100},pe=function(e){return e.toFixed(2)},Ee=function(e){return e?"/signup?redirect=".concat(e):"/signup"},fe=function(e){return e?"/signin?redirect=".concat(e):"/signin"},be=function(){return"/cart"},ve=function(){return"/shipping"},he=function(){return"/payment"},Oe=function(){return"/placeorder"},Re=function(e){return e?"/user/orders/".concat(e):"/user/orders"},je=function(e){return e?"/admin/users/".concat(e):"/admin/users"},ge=function(e){return e?"/admin/orders/".concat(e):"/admin/orders"},ye=function(e){return e?"/admin/products/".concat(e):"/admin/products"},ke=function(){return"/admin/products/create"},xe=function(e){return e?"/products/".concat(e):"/products"},_e=function(){return"/unauthorized"},Pe=function(e){return"/search/".concat(e)},Se=function(){return"/"},we=function(e){var t=Object(K.k)(),a=Object(ue.c)((function(e){return e.auth})).data;Object(F.useEffect)((function(){a||t.push(fe(e||t.location.pathname))}),[a,t,e])},Ie=a(3),Ae=a.n(Ie),Te=a(9),Ce=a(8),De=a(151),Ue=a.n(De),Ne="http://127.0.0.1:5000/v1/api",Le=Ue.a.create({baseURL:Ne,headers:{"Content-Type":"application/json"}}),Be={baseApi:Le,getAuthorizationHeader:function(e){return e?{Authorization:"Bearer ".concat(e)}:null}},Fe="/products",Me=function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a,r,n){var c,u,l;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="".concat(Fe),u={params:{keyword:null!==t&&void 0!==t?t:null,page:null!==a&&void 0!==a?a:null,pageLimit:null!==r&&void 0!==r?r:null,sort:null!==n&&void 0!==n?n:null}},e.next=5,Be.baseApi.get(c,u);case 5:return l=e.sent,e.abrupt("return",Promise.resolve(l.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,r,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(Te.a)(Ae.a.mark((function e(t){var a,r;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat(Fe,"/").concat(t),e.next=4,Be.baseApi.get(a);case 4:return r=e.sent,e.abrupt("return",Promise.resolve(r.data));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n,c;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(Fe),n={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t))},e.next=5,Be.baseApi.post(r,a,n);case 5:return c=e.sent,e.abrupt("return",Promise.resolve(c.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a,r){var n,c,u;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(Fe,"/").concat(a),c={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t))},e.next=5,Be.baseApi.patch(n,r,c);case 5:return u=e.sent,e.abrupt("return",Promise.resolve(u.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,r){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(Fe,"/").concat(a),n={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t))},e.next=5,Be.baseApi.delete(r,n);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n,c;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(Fe,"/upload?field=").concat(t,"&imageFileType=true"),n={headers:{"Content-Type":"multipart/form-data"}},e.next=5,Be.baseApi.post(r,a,n);case 5:return c=e.sent,e.abrupt("return",Promise.resolve(c.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Qe={findAll:Me,findById:ze,save:He,updateById:Ve,deleteById:Ye,uploadImage:Ge},qe=a(43),$e=a(16),We=function(){function e(){Object(V.a)(this,e)}return Object(Y.a)(e,null,[{key:"fromPlain",value:function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return $e.plainToClass(e,t,{excludeExtraneousValues:a})}},{key:"toPlain",value:function(e){return JSON.parse(JSON.stringify($e.classToPlain(e)))}},{key:"trimExcluded",value:function(e){var t=this.clone(e);return $e.plainToClassFromExist(t,this.toPlain(e))}},{key:"clone",value:function(e){return $e.classToClass(e)}},{key:"serialize",value:function(e){return $e.serialize(e)}},{key:"deserialize",value:function(e,t){return $e.deserialize(e,t)}},{key:"deserializeIterable",value:function(e,t){return $e.deserializeArray(e,t)}}]),e}(),Ke=function(){function e(t,a){Object(V.a)(this,e),this.key=void 0,this.entityClass=void 0,this.key=t,this.entityClass=a}return Object(Y.a)(e,[{key:"find",value:function(){var e=localStorage.getItem(this.parseKey(this.key));return e?We.deserialize(this.entityClass,e):null}},{key:"save",value:function(e){localStorage.setItem(this.parseKey(this.key),We.serialize(e))}},{key:"remove",value:function(){localStorage.removeItem(this.parseKey(this.key))}},{key:"parseKey",value:function(e){var t="PRO_SHOP_";return t||(t="_"),t+e}}]),e}(),Je=function(e){Object(Q.a)(a,e);var t=Object(G.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(Y.a)(a,[{key:"findAll",value:function(){var e=localStorage.getItem(this.parseKey(this.key));return e?We.deserializeIterable(this.entityClass,e):null}}]),a}(Ke),Xe=function e(){Object(V.a)(this,e),this.product="",this.quantity=0,this.name="",this.image="",this.price=0,this.countInStock=0},Ze=function(e){Object(Q.a)(a,e);var t=Object(G.a)(a);function a(){return Object(V.a)(this,a),t.call(this,"CART_ORDER_ITEMS",Xe)}return a}(Je),et=function e(){Object(V.a)(this,e),this.value=void 0},tt=function(e){Object(Q.a)(a,e);var t=Object(G.a)(a);function a(){return Object(V.a)(this,a),t.call(this,"CART_PAYMENT_METHOD",et)}return a}(Ke),at=function e(){Object(V.a)(this,e),this.address="",this.city="",this.postalCode="",this.country=""},rt=function(e){Object(Q.a)(a,e);var t=Object(G.a)(a);function a(){return Object(V.a)(this,a),t.call(this,"CART_SHIPPING_ADDRESS",at)}return a}(Ke),nt=function(e,t){return{type:e,payload:t}},ct={loading:!1,data:{orderItems:(new Ze).findAll(),shippingAddress:(new rt).find(),paymentMethod:function(){var e=(new tt).find();return e?e.value:null}()},error:null},ut=function(e){return Object(Ce.a)({},e,{loading:!0,error:null})},lt=function(e,t){var a=e.data.orderItems;a||(a=[]);var r=a&&a.find((function(e){return e.product===t.product})),n=[];if(r){var c=a.findIndex((function(e){return e.product===r.product})),u=Object(Ce.a)({},r,{quantity:t.quantity});(n=Object(qe.a)(a))[c]=u}else n=[].concat(Object(qe.a)(a),[t]);return Object(Ce.a)({},e,{data:Object(Ce.a)({},e.data,{orderItems:n}),loading:!1,error:null})},it=function(e,t){if(!e.data.orderItems)return e;var a=e.data.orderItems.filter((function(e){return e.product!==t.product}));return Object(Ce.a)({},e,{data:Object(Ce.a)({},e.data,{orderItems:a}),loading:!1,error:null})},ot=function(e,t){return Object(Ce.a)({},e,{data:Object(Ce.a)({},e.data,{shippingAddress:t}),loading:!1,error:null})},st=function(e,t){return Object(Ce.a)({},e,{data:Object(Ce.a)({},e.data,{paymentMethod:t}),loading:!1,error:null})},mt=function(){return ct},dt=function(e,t){return Object(Ce.a)({},e,{loading:!1,error:t})},pt={action:nt,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"CART_REQUEST":return ut(e);case"CART_ADD_ORDER_ITEM":return lt(e,r);case"CART_REMOVE_ORDER_ITEM":return it(e,r);case"CART_SAVE_SHIPPING_ADDRESS":return ot(e,r);case"CART_SAVE_PAYMENT_METHOD":return st(e,r);case"CART_RESET":return mt();case"CART_ERROR":return dt(e,r);default:return e}}},Et=function(e,t){return function(){var a=Object(Te.a)(Ae.a.mark((function a(r,n){var c,u,l;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r(pt.action("CART_REQUEST")),a.next=4,Qe.findById(e);case 4:if(!(c=a.sent).error){a.next=8;break}return r(pt.action("CART_ERROR",c.error)),a.abrupt("return");case 8:if(c.data){a.next=10;break}return a.abrupt("return");case 10:u=c.data,l={product:u.id,quantity:t,name:u.name,image:u.image,price:u.price,countInStock:u.countInStock},r(pt.action("CART_ADD_ORDER_ITEM",l)),(new Ze).save(n().cart.data.orderItems),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(0),r(pt.action("CART_ERROR",a.t0));case 20:case"end":return a.stop()}}),a,null,[[0,17]])})));return function(e,t){return a.apply(this,arguments)}}()},ft=function(e){return function(t,a){try{var r={product:e};t(pt.action("CART_REMOVE_ORDER_ITEM",r)),(new Ze).save(a().cart.data.orderItems)}catch(n){pt.action("CART_ERROR",n)}}},bt=function(e){return function(t){try{t(pt.action("CART_SAVE_SHIPPING_ADDRESS",e)),(new rt).save(e)}catch(a){pt.action("CART_ERROR",a)}}},vt=function(e){return function(t){try{t(pt.action("CART_SAVE_PAYMENT_METHOD",e)),(new tt).save({value:e})}catch(a){pt.action("CART_ERROR",a)}}},ht=function(){return function(e){try{e(pt.action("CART_RESET")),(new tt).remove(),(new rt).remove(),(new Ze).remove()}catch(t){pt.action("CART_ERROR",t)}}},Ot=function(e,t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://www.paypal.com/sdk/js?client-id=".concat(e),a.onload=t,document.body.appendChild(a)},Rt=function(e){return"".concat(Ne,"/files/").concat(e)},jt=function(e){return e.data?e.data.authToken.token:null},gt={findById:function(){var e=Object(Te.a)(Ae.a.mark((function e(t){var a,r;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat("/configs","/").concat(t),e.next=4,Be.baseApi.get(a);case 4:return r=e.sent,e.abrupt("return",Promise.resolve(r.data));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},yt={findAll:function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n,c;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("/orders"),n={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t)),params:{byUserId:a}},e.next=5,Be.baseApi.get(r,n);case 5:return c=e.sent,e.abrupt("return",Promise.resolve(c.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),findById:function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a,r){var n,c,u;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("/orders","/").concat(a),c={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t)),params:{byUserId:r}},e.next=5,Be.baseApi.get(n,c);case 5:return u=e.sent,e.abrupt("return",Promise.resolve(u.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,r){return e.apply(this,arguments)}}(),save:function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n,c;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("/orders"),n={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t))},e.next=5,Be.baseApi.post(r,a,n);case 5:return c=e.sent,e.abrupt("return",Promise.resolve(c.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),updateById:function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a,r){var n,c,u;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("/orders","/").concat(a),c={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t))},e.next=5,Be.baseApi.patch(n,r,c);case 5:return u=e.sent,e.abrupt("return",Promise.resolve(u.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,r){return e.apply(this,arguments)}}(),pay:function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a,r){var n,c,u;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("/orders","/").concat(a),c={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t)),params:{payOrder:!0}},e.next=5,Be.baseApi.patch(n,r,c);case 5:return u=e.sent,e.abrupt("return",Promise.resolve(u.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,r){return e.apply(this,arguments)}}()},kt={loading:!1,data:{order:null,orders:null,config:null},error:null},xt={action:function(e,t){return{type:e,payload:t}},reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"ORDER_REQUEST":return Object(Ce.a)({},e,{loading:!0,error:null});case"ORDER_FIND_ALL":return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{orders:r})});case"ORDER_FIND_BY_ID":case"ORDER_SAVE":case"ORDER_UPDATE_BY_ID":case"ORDER_PAY":return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{order:r})});case"ORDER_CONFIG_FIND_BY_ID":return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{config:r})});case"ORDER_RESET":return kt;case"ORDER_ERROR":return Object(Ce.a)({},e,{loading:!1,error:r});default:return e}}},_t=function(e){return function(){var t=Object(Te.a)(Ae.a.mark((function t(a,r){var n,c,u,l;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(xt.action("ORDER_REQUEST")),n=jt(r().auth),t.next=5,yt.findAll(n,e);case 5:if(!(c=t.sent).error){t.next=9;break}return a(xt.action("ORDER_ERROR",c.error)),t.abrupt("return");case 9:if(c.data&&c.paginator){t.next=11;break}return t.abrupt("return");case 11:u=c.data,l=c.paginator,a(xt.action("ORDER_FIND_ALL",{data:u,paginator:l})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),a(xt.action("ORDER_ERROR",t.t0));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e,a){return t.apply(this,arguments)}}()},Pt=function(e,t){return function(){var a=Object(Te.a)(Ae.a.mark((function a(r,n){var c,u;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r(xt.action("ORDER_REQUEST")),c=jt(n().auth),a.next=5,yt.findById(c,e,t);case 5:if(!(u=a.sent).error){a.next=9;break}return r(xt.action("ORDER_ERROR",u.error)),a.abrupt("return");case 9:if(u.data){a.next=11;break}return a.abrupt("return");case 11:r(xt.action("ORDER_FIND_BY_ID",u.data)),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),r(xt.action("ORDER_ERROR",a.t0));case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e,t){return a.apply(this,arguments)}}()},St=function(e){return function(){var t=Object(Te.a)(Ae.a.mark((function t(a,r){var n,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(xt.action("ORDER_REQUEST")),n=jt(r().auth),t.next=5,yt.save(n,e);case 5:if(!(c=t.sent).error){t.next=9;break}return a(xt.action("ORDER_ERROR",c.error)),t.abrupt("return");case 9:if(c.data){t.next=11;break}return t.abrupt("return");case 11:a(xt.action("ORDER_SAVE",c.data)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),a(xt.action("ORDER_ERROR",t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()},wt=function(e,t){return function(){var a=Object(Te.a)(Ae.a.mark((function a(r,n){var c,u;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r(xt.action("ORDER_REQUEST")),c=jt(n().auth),a.next=5,yt.updateById(c,e,t);case 5:if(!(u=a.sent).error){a.next=9;break}return r(xt.action("ORDER_ERROR",u.error)),a.abrupt("return");case 9:if(u.data){a.next=11;break}return a.abrupt("return");case 11:r(xt.action("ORDER_UPDATE_BY_ID",u.data)),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),r(xt.action("ORDER_ERROR",a.t0));case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e,t){return a.apply(this,arguments)}}()},It=function(e){return function(){var t=Object(Te.a)(Ae.a.mark((function t(a){var r;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(xt.action("ORDER_REQUEST")),t.next=4,gt.findById(e);case 4:if(!(r=t.sent).error){t.next=8;break}return a(xt.action("ORDER_ERROR",r.error)),t.abrupt("return");case 8:if(r.data){t.next=10;break}return t.abrupt("return");case 10:a(xt.action("ORDER_CONFIG_FIND_BY_ID",r.data)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a(xt.action("ORDER_ERROR",t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},At=function(e,t){return function(){var a=Object(Te.a)(Ae.a.mark((function a(r,n){var c,u;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r(xt.action("ORDER_REQUEST")),c=jt(n().auth),a.next=5,yt.pay(c,e,t);case 5:if(!(u=a.sent).error){a.next=9;break}return r(xt.action("ORDER_ERROR",u.error)),a.abrupt("return");case 9:if(u.data){a.next=11;break}return a.abrupt("return");case 11:r(xt.action("ORDER_PAY",u.data)),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),r(xt.action("ORDER_ERROR",a.t0));case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e,t){return a.apply(this,arguments)}}()},Tt=function(){return function(){var e=Object(Te.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(xt.action("ORDER_RESET"))}catch(a){t(xt.action("ORDER_ERROR",a))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ct=function(e){var t,a;we();var r=Object(ue.b)(),n=Object(K.m)().id,c=e.queryByUserId,u=Object(ue.c)((function(e){return e.order})),l=u.loading,i=u.data,o=u.error,s=i.order,m=s&&s.user?s.user:null,d=null!==(t=i.config&&i.config.payPalClientId)&&void 0!==t?t:void 0,p=Object(F.useState)(!1),E=Object(J.a)(p,2),f=E[0],b=E[1],v=Object(ue.c)((function(e){return e.auth})).data;Object(F.useEffect)((function(){r(Pt(n,c))}),[r,n,c]),Object(F.useEffect)((function(){r(It("payPalClientId"))}),[r]),Object(F.useEffect)((function(){d&&Ot(d,(function(){return b(!0)}))}),[d]);return M.a.createElement(M.a.Fragment,null,l&&M.a.createElement(me,null),o&&M.a.createElement(le,{error:o}),M.a.createElement("h2",null,"Order ",s&&s.id),M.a.createElement(X.a,null,M.a.createElement(Z.a,{md:8},M.a.createElement(ee.a,{variant:"flush"},m&&M.a.createElement(ee.a.Item,null,M.a.createElement("h2",null,"Customer"),M.a.createElement("p",null,m.name),M.a.createElement("p",null,M.a.createElement("a",{href:"mailto:".concat(m.email)},m.email))),s&&s.shippingAddress&&M.a.createElement(ee.a.Item,null,M.a.createElement("h2",null,"Shipping"),M.a.createElement("p",null,s.shippingAddress.address,", ",s.shippingAddress.city," ",s.shippingAddress.postalCode,", ",s.shippingAddress.country),s.isDelivered?M.a.createElement(te.a,{variant:"success"},"Delivered on ",s.deliveredAt):M.a.createElement(te.a,{variant:"danger"},"Not delivered")),s&&s.paymentMethod&&M.a.createElement(ee.a.Item,null,M.a.createElement("h2",null,"Payment"),M.a.createElement("p",null,s.paymentMethod),s.isPaid?M.a.createElement(te.a,{variant:"success"},"Paid on ",s.paidAt):M.a.createElement(te.a,{variant:"danger"},"Not paid")),M.a.createElement(ee.a.Item,null,M.a.createElement("h2",null,"Items"),M.a.createElement(ee.a,{variant:"flush"},s&&s.orderItems&&s.orderItems.map((function(e,t){return M.a.createElement(ee.a.Item,{key:t},M.a.createElement(X.a,null,M.a.createElement(Z.a,{md:2},M.a.createElement(ae.a,{src:Rt(e.image),alt:e.name,fluid:!0,rounded:!0})),M.a.createElement(Z.a,{md:6},e.name),M.a.createElement(Z.a,{md:4},e.quantity," x $",e.price," = $",pe(e.quantity*e.price))))})))))),M.a.createElement(Z.a,{md:4},M.a.createElement(re.a,null,M.a.createElement(ee.a,{variant:"flush"},M.a.createElement(ee.a.Item,null,M.a.createElement("h2",null,"Summary")),M.a.createElement(ee.a.Item,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,null,"Items"),M.a.createElement(Z.a,null,"$",pe(s?s.orderItemsPrice:0)))),M.a.createElement(ee.a.Item,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,null,"Shipping"),M.a.createElement(Z.a,null,"$",pe(s?s.shippingPrice:0)))),M.a.createElement(ee.a.Item,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,null,"Tax"),M.a.createElement(Z.a,null,"$",pe(s?s.taxPrice:0)))),M.a.createElement(ee.a.Item,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,null,"Total"),M.a.createElement(Z.a,null,"$",pe(s?s.totalPrice:0)))),!l&&!o&&f&&!!s&&!s.isPaid&&s.totalPrice>0&&M.a.createElement(ee.a.Item,null,M.a.createElement(ce.PayPalButton,{amount:null!==(a=s&&s.totalPrice)&&void 0!==a?a:0,onSuccess:function(e){r(At(n,{paymentResult:e})),r(ht())}})),v&&v.user.isAdmin&&M.a.createElement(ee.a.Item,null,M.a.createElement(ne.a,{type:"button",className:"btn btn-block",disabled:!(s&&!s.isDelivered&&s.isPaid),onClick:function(){var e={isDelivered:!0,deliveredAt:new Date};r(wt(n,e))}},"Mark As Delivered")))))))},Dt=function(){return M.a.createElement(Ct,{queryByUserId:!1})},Ut=a(18),Nt=a(350),Lt=a(29),Bt=function(e){var t;we();var a=Object(ue.b)(),r=e.queryByUserId,n=Object(ue.c)((function(e){return e.order})),c=n.loading,u=n.data,l=n.error,i=null!==(t=u.orders&&u.orders.data)&&void 0!==t?t:null;return Object(F.useEffect)((function(){a(_t(r))}),[a,r]),M.a.createElement(M.a.Fragment,null,c&&M.a.createElement(me,null),l&&M.a.createElement(le,{error:l}),M.a.createElement("h4",null,r?"My Orders":"All Orders"),M.a.createElement(X.a,null,M.a.createElement(Nt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},M.a.createElement("thead",null,M.a.createElement("tr",null,M.a.createElement("th",null,"ID"),M.a.createElement("th",null,"DATE"),M.a.createElement("th",null,"TOTAL"),M.a.createElement("th",null,"PAID"),M.a.createElement("th",null,"DELIVERED"),M.a.createElement("th",null))),M.a.createElement("tbody",null,i&&i.map((function(e){return M.a.createElement("tr",{key:e.id},M.a.createElement("td",null,e.id),M.a.createElement("td",null,e.createdAt&&e.createdAt.substring(0,10)),M.a.createElement("td",null,"$",e.totalPrice),M.a.createElement("td",null,e.isPaid&&e.paidAt?e.paidAt.toString().substring(0,10):M.a.createElement(Ut.a,{icon:["fas","times"],color:"red"})),M.a.createElement("td",null,e.isDelivered&&e.deliveredAt?e.deliveredAt.toString().substring(0,10):M.a.createElement(Ut.a,{icon:["fas","times"],color:"red"})),M.a.createElement("td",null,M.a.createElement(Lt.LinkContainer,{to:Re(e.id)},M.a.createElement(ne.a,{variant:"light",className:"btn-sm"},"Details"))))}))))))},Ft=function(){return M.a.createElement(Bt,{queryByUserId:!1})},Mt=a(51),zt=a(358),Ht=function(e){var t=Object(K.k)(),a=Object(ue.c)((function(e){return e.auth})).data;Object(F.useEffect)((function(){a&&a.user.isAdmin||t.push(_e())}),[a,t,e])},Vt=function(e){var t=e.children;return M.a.createElement(W.a,null,M.a.createElement(X.a,{className:"justify-content-md-center"},M.a.createElement(Z.a,{xs:12,md:6},t)))},Yt=a(177),Gt=function(e){var t=e.error;if(!t)return null;var a=Object(qe.a)(t);return M.a.createElement("div",null,a.map((function(e,t){return M.a.createElement("span",{key:t,style:Qt.container},e)})))},Qt={container:{display:"block",color:"red"}},qt=function(e){var t=e.id,a=e.label,r=e.helpText,n=e.instantFeedback,c=void 0!==n&&n,u=e.controlRef,l=e.callbackRef,i=Object(Yt.a)(e,["id","label","helpText","instantFeedback","controlRef","callbackRef"]),o=Object(Mt.b)(t),s=Object(J.a)(o,2),m=s[0],d=s[1],p=Object(F.useState)(!1),E=Object(J.a)(p,2),f=E[0],b=E[1],v=c&&(f&&m.value.trim().length>2||d.touched)&&!d.error,h=!(!d.touched||!d.error);return M.a.createElement(zt.a.Group,{controlId:t},a&&M.a.createElement(zt.a.Label,null,a),M.a.createElement(zt.a.Control,Object.assign({},m,i,{isValid:v,isInvalid:h,name:t,ref:u||l,onFocus:function(){return b(!0)}})),!h&&r&&M.a.createElement("div",{className:"text-muted"},r),h&&M.a.createElement(Gt,{error:d.error}))},$t=a(62),Wt=function(){function e(){Object(V.a)(this,e)}return Object(Y.a)(e,null,[{key:"validate",value:function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n,c;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={skipUndefinedProperties:!1,skipNullProperties:!1,skipMissingProperties:a,dismissDefaultMessages:!1,validationError:{target:!0,value:!0},forbidUnknownValues:!0},e.next=4,$t.a(t,r);case 4:if(0!==(n=e.sent).length){e.next=7;break}return e.abrupt("return",Promise.resolve({}));case 7:return c=this.reduceErrors({},n),e.abrupt("return",Promise.resolve(c));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"reduceErrors",value:function(e,t){var a=this,r=Object(Ce.a)({},e);return t.forEach((function(e){e.constraints&&(r[e.property]=Object.values(e.constraints)),e.children&&(r=a.reduceErrors(r,e.children))})),r}}]),e}(),Kt=function(e,t){return We.fromPlain(t,e)},Jt=function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Kt(t,a),e.next=4,Wt.validate(r,!1);case 4:return n=e.sent,e.abrupt("return",Promise.resolve(n));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Xt={getState:Kt,validate:Jt,isSubmittable:function(e){return!e.isValidating&&!e.isSubmitting&&e.dirty&&e.isValid}},Zt={save:function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n,c;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("/reviews"),n={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t))},e.next=5,Be.baseApi.post(r,a,n);case 5:return c=e.sent,e.abrupt("return",Promise.resolve(c.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()},ea={loading:!1,data:{product:null,products:null,productsTopRated:null,review:!1},error:null},ta=function(e,t){if(!e.data.products)return e;var a=e.data.products.data.filter((function(e){return e.id!==t.id}));return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{products:Object(Ce.a)({},e.data.products,{data:a})})})},aa={action:function(e,t){return{type:e,payload:t}},reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"PRODUCT_REQUEST":return Object(Ce.a)({},e,{loading:!0,error:null});case"PRODUCT_FIND_ALL":return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{products:r})});case"PRODUCT_FIND_TOP_RATAED":return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{productsTopRated:r})});case"PRODUCT_FIND_BY_ID":case"PRODUCT_SAVE":case"PRODUCT_UPDATE_BY_ID":return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{product:r})});case"PRODUCT_DELETE_BY_ID":return ta(e,r);case"PRODUCT_SAVE_REVIEW":return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{review:!0})});case"PRODUCT_RESET_PRODUCT":return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{product:null,productsTopRated:null,review:!1})});case"PRODUCT_ERROR":return Object(Ce.a)({},e,{loading:!1,error:r});default:return e}}},ra=function(e,t,a,r){return function(){var n=Object(Te.a)(Ae.a.mark((function n(c){var u,l,i;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(aa.action("PRODUCT_REQUEST")),n.next=4,Qe.findAll(e,t,a,r);case 4:if(!(u=n.sent).error){n.next=8;break}return c(aa.action("PRODUCT_ERROR",u.error)),n.abrupt("return");case 8:if(u.data&&u.paginator){n.next=10;break}return n.abrupt("return");case 10:l=u.data,i=u.paginator,c(aa.action("PRODUCT_FIND_ALL",{data:l,paginator:i})),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),c(aa.action("PRODUCT_ERROR",n.t0));case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e){return n.apply(this,arguments)}}()},na=function(){return function(){var e=Object(Te.a)(Ae.a.mark((function e(t){var a,r,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(aa.action("PRODUCT_REQUEST")),void 0,void 0,e.next=6,Qe.findAll(void 0,void 0,"3","-rating");case 6:if(!(a=e.sent).error){e.next=10;break}return t(aa.action("PRODUCT_ERROR",a.error)),e.abrupt("return");case 10:if(a.data&&a.paginator){e.next=12;break}return e.abrupt("return");case 12:r=a.data,n=a.paginator,t(aa.action("PRODUCT_FIND_TOP_RATAED",{data:r,paginator:n})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),t(aa.action("PRODUCT_ERROR",e.t0));case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},ca=function(e){return function(){var t=Object(Te.a)(Ae.a.mark((function t(a){var r;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(aa.action("PRODUCT_REQUEST")),t.next=4,Qe.findById(e);case 4:if(!(r=t.sent).error){t.next=8;break}return a(aa.action("PRODUCT_ERROR",r.error)),t.abrupt("return");case 8:if(r.data){t.next=10;break}return t.abrupt("return");case 10:a(aa.action("PRODUCT_FIND_BY_ID",r.data)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a(aa.action("PRODUCT_ERROR",t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()},ua=function(e){return function(){var t=Object(Te.a)(Ae.a.mark((function t(a,r){var n,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(aa.action("PRODUCT_REQUEST")),n=jt(r().auth),t.next=5,Qe.save(n,e);case 5:if(!(c=t.sent).error){t.next=9;break}return a(aa.action("PRODUCT_ERROR",c.error)),t.abrupt("return");case 9:if(c.data){t.next=11;break}return t.abrupt("return");case 11:a(aa.action("PRODUCT_SAVE",c.data)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),a(aa.action("PRODUCT_ERROR",t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()},la=function(e,t){return function(){var a=Object(Te.a)(Ae.a.mark((function a(r,n){var c,u;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r(aa.action("PRODUCT_REQUEST")),c=jt(n().auth),a.next=5,Qe.updateById(c,e,t);case 5:if(!(u=a.sent).error){a.next=9;break}return r(aa.action("PRODUCT_ERROR",u.error)),a.abrupt("return");case 9:if(u.data){a.next=11;break}return a.abrupt("return");case 11:r(aa.action("PRODUCT_UPDATE_BY_ID",u.data)),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),r(aa.action("PRODUCT_ERROR",a.t0));case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e,t){return a.apply(this,arguments)}}()},ia=function(e){return function(){var t=Object(Te.a)(Ae.a.mark((function t(a,r){var n;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(aa.action("PRODUCT_REQUEST")),n=jt(r().auth),t.next=5,Qe.deleteById(n,e);case 5:a(aa.action("PRODUCT_DELETE_BY_ID",{id:e})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(aa.action("PRODUCT_ERROR",t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},oa=function(e){return function(){var t=Object(Te.a)(Ae.a.mark((function t(a,r){var n,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(aa.action("PRODUCT_REQUEST")),n=jt(r().auth),t.next=5,Zt.save(n,e);case 5:if(!(c=t.sent).error){t.next=9;break}return a(aa.action("PRODUCT_ERROR",c.error)),t.abrupt("return");case 9:if(c.data){t.next=11;break}return t.abrupt("return");case 11:a(aa.action("PRODUCT_SAVE_REVIEW")),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),a(aa.action("PRODUCT_ERROR",t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()},sa=function(){return function(){var e=Object(Te.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(aa.action("PRODUCT_RESET_PRODUCT"))}catch(a){t(aa.action("PRODUCT_ERROR",a))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ma=a(25),da=a(26),pa=(a(106),a(352)),Ea=a(353),fa=a(354),ba=(r=Object($e.Expose)(),n=Object(pa.a)(),c=Object(Ea.a)(),u=Object($e.Expose)(),l=Object(pa.a)(),i=Object(Ea.a)(),o=Object($e.Expose)(),s=Object(pa.a)(),m=Object(Ea.a)(),d=Object($e.Expose)(),p=Object(pa.a)(),E=Object(Ea.a)(),f=Object($e.Expose)(),b=Object(pa.a)(),v=Object(Ea.a)(),h=Object($e.Expose)(),O=Object(fa.a)(),R=Object(Ea.a)(),j=Object($e.Expose)(),g=Object(fa.a)(),y=Object(Ea.a)(),k=function e(){Object(V.a)(this,e),Object(ma.a)(this,"name",x,this),Object(ma.a)(this,"image",_,this),Object(ma.a)(this,"description",P,this),Object(ma.a)(this,"brand",S,this),Object(ma.a)(this,"category",w,this),Object(ma.a)(this,"price",I,this),Object(ma.a)(this,"countInStock",A,this)},x=Object(da.a)(k.prototype,"name",[r,n,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=Object(da.a)(k.prototype,"image",[u,l,i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=Object(da.a)(k.prototype,"description",[o,s,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=Object(da.a)(k.prototype,"brand",[d,p,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=Object(da.a)(k.prototype,"category",[f,b,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),I=Object(da.a)(k.prototype,"price",[h,O,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=Object(da.a)(k.prototype,"countInStock",[j,g,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k),va=function(){Ht();var e=Object(ue.b)(),t=Object(K.k)(),a=Object(K.m)().id,r=!a,n=Object(ue.c)((function(e){return e.product})),c=n.loading,u=n.data,l=n.error,i=u.product,o=Object(ue.c)((function(e){return e.auth})).data,s=o?o.user.id:"",m=Object(F.useState)(!1),d=Object(J.a)(m,2),p=d[0],E=d[1];Object(F.useEffect)((function(){r||e(ca(a))}),[r,e,a]),Object(F.useEffect)((function(){r&&i&&t.push(ye(i.id))}),[r,i,t]);var f=Object(F.useMemo)((function(){return We.fromPlain(ba,i)}),[i]),b=function(){var e=Object(Te.a)(Ae.a.mark((function e(t){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xt.validate(t,ba);case 3:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return Xt.isSubmittable(e)},h=function(){var t=Object(Te.a)(Ae.a.mark((function t(n,c){var u,l;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u=Xt.getState(n,ba),r?(l=Object(Ce.a)({},u,{id:"",user:s,rating:0,numReviews:0}),e(ua(l))):e(la(a,u)),c.setSubmitting(!1);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),O=function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n,c,u;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.files){e.next=3;break}return e.abrupt("return");case 3:if(n=r[0]){e.next=6;break}return e.abrupt("return");case 6:return"image",(c=new FormData).append("image",n),e.prev=9,E(!0),e.next=13,Qe.uploadImage("image",c);case 13:if(!(u=e.sent).error){e.next=17;break}throw E(!1),u.error;case 17:if(u.data){e.next=20;break}return E(!1),e.abrupt("return");case 20:a.setFieldValue("image",u.data.name),E(!1),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(9),E(!1),Promise.reject(e.t0);case 28:case"end":return e.stop()}}),e,null,[[9,24]])})));return function(t,a){return e.apply(this,arguments)}}();return M.a.createElement(M.a.Fragment,null,c&&M.a.createElement(me,null),l&&M.a.createElement(le,{error:l}),M.a.createElement(Vt,null,M.a.createElement("h1",null,r?"Create Product":"Edit Product"),M.a.createElement(Mt.a,{enableReinitialize:!0,initialValues:null!==f&&void 0!==f?f:new ba,validate:b,onSubmit:h},(function(e){return M.a.createElement(M.a.Fragment,null,M.a.createElement(zt.a,{onSubmit:function(t){return e.handleSubmit(t)},noValidate:!0},M.a.createElement(qt,{schema:e.values,id:"name",type:"text",label:"Name",placeholder:"Name"}),M.a.createElement(qt,{schema:e.values,id:"image",type:"text",label:"Image",placeholder:"Image"}),M.a.createElement(zt.a.File,{id:"file",label:"Choose an image",custom:!0,onChange:function(t){return O(t,e)}}),p&&M.a.createElement("div",null,"Uploading an image..."),M.a.createElement(qt,{schema:e.values,id:"description",type:"text",label:"Description",placeholder:"Description"}),M.a.createElement(qt,{schema:e.values,id:"brand",type:"text",label:"Brand",placeholder:"Brand"}),M.a.createElement(qt,{schema:e.values,id:"category",type:"text",label:"Category",placeholder:"Category"}),M.a.createElement(qt,{schema:e.values,id:"price",type:"number",label:"Price",placeholder:"Price"}),M.a.createElement(qt,{schema:e.values,id:"countInStock",type:"number",label:"Count In Stock",placeholder:"Count In Stock"}),M.a.createElement(ne.a,{type:"submit",variant:"primary",disabled:!v(e)},function(e){switch(r){case!0:return e.isSubmitting?"Saving...":"Save";default:return e.isSubmitting?"Updating...":"Update"}}(e))))}))))},ha=function(){return M.a.createElement(va,null)},Oa=function(){return M.a.createElement(va,null)},Ra=function(){var e;Ht();var t=Object(ue.b)(),a=Object(K.k)(),r=Object(ue.c)((function(e){return e.product})),n=r.loading,c=r.data,u=r.error,l=null!==(e=c.products&&c.products.data)&&void 0!==e?e:null;Object(F.useEffect)((function(){t(ra())}),[t]);return M.a.createElement(M.a.Fragment,null,n&&M.a.createElement(me,null),u&&M.a.createElement(le,{error:u}),M.a.createElement(X.a,{className:"align-items-center"},M.a.createElement(Z.a,null,M.a.createElement("h4",null,"All Products")),M.a.createElement(Z.a,{className:"text-right"},M.a.createElement(ne.a,{className:"my-3 btn-sm",onClick:function(){t(sa()),a.push(ke())},title:"Create Product"},M.a.createElement(Ut.a,{icon:["fas","plus"]}),"Create Product"))),M.a.createElement(X.a,null,M.a.createElement(Nt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},M.a.createElement("thead",null,M.a.createElement("tr",null,M.a.createElement("th",null,"NAME"),M.a.createElement("th",null,"PRICE"),M.a.createElement("th",null,"CATEGORY"),M.a.createElement("th",null,"BRAND"),M.a.createElement("th",null))),M.a.createElement("tbody",null,l&&l.map((function(e){return M.a.createElement("tr",{key:e.id},M.a.createElement("td",null,e.name),M.a.createElement("td",null,"$",e.price),M.a.createElement("td",null,e.category),M.a.createElement("td",null,e.brand),M.a.createElement("td",null,M.a.createElement(ne.a,{variant:"light",className:"btn-sm",title:"Edit Product",onClick:function(){return t=e.id,void a.push(ye(t));var t}},M.a.createElement(Ut.a,{icon:["fas","edit"]})),M.a.createElement(ne.a,{variant:"danger",className:"btn-sm",title:"Delete Product",onClick:function(){return a=e.id,void(window.confirm("Are you sure?")&&t(ia(a)));var a}},M.a.createElement(Ut.a,{icon:["fas","trash"]}))))}))))))},ja=function(){return M.a.createElement(Ra,null)},ga={findAll:function(){var e=Object(Te.a)(Ae.a.mark((function e(t){var a,r,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat("/users"),r={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t))},e.next=5,Be.baseApi.get(a,r);case 5:return n=e.sent,e.abrupt("return",Promise.resolve(n.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),findById:function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n,c;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("/users","/").concat(a),n={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t))},e.next=5,Be.baseApi.get(r,n);case 5:return c=e.sent,e.abrupt("return",Promise.resolve(c.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),save:function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n,c;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("/users"),n={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t))},e.next=5,Be.baseApi.post(r,a,n);case 5:return c=e.sent,e.abrupt("return",Promise.resolve(c.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),updateById:function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a,r){var n,c,u;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("/users","/").concat(a),c={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t))},e.next=5,Be.baseApi.patch(n,r,c);case 5:return u=e.sent,e.abrupt("return",Promise.resolve(u.data));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,r){return e.apply(this,arguments)}}(),deleteById:function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat("/users","/").concat(a),n={headers:Object(Ce.a)({},Be.getAuthorizationHeader(t))},e.next=5,Be.baseApi.delete(r,n);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},ya={loading:!1,data:{user:null,users:null},error:null},ka=function(e,t){if(!e.data.users)return e;var a=e.data.users.data.filter((function(e){return e.id!==t.id}));return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{users:Object(Ce.a)({},e.data.users,{data:a})})})},xa={action:function(e,t){return{type:e,payload:t}},reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ya,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"USER_REQUEST":return Object(Ce.a)({},e,{loading:!0,error:null});case"USER_FIND_ALL":return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{users:r})});case"USER_FIND_BY_ID":case"USER_UPDATE_BY_ID":return Object(Ce.a)({},e,{loading:!1,error:null,data:Object(Ce.a)({},e.data,{user:r})});case"USER_DELETE_BY_ID":return ka(e,r);case"USER_RESET":return ya;case"USER_ERROR":return Object(Ce.a)({},e,{loading:!1,error:r});default:return e}}},_a=function(){return function(){var e=Object(Te.a)(Ae.a.mark((function e(t,a){var r,n,c,u;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(xa.action("USER_REQUEST")),r=jt(a().auth),e.next=5,ga.findAll(r);case 5:if(!(n=e.sent).error){e.next=9;break}return t(xa.action("USER_ERROR",n.error)),e.abrupt("return");case 9:if(n.data&&n.paginator){e.next=11;break}return e.abrupt("return");case 11:c=n.data,u=n.paginator,t(xa.action("USER_FIND_ALL",{data:c,paginator:u})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),t(xa.action("USER_ERROR",e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}()},Pa=function(e){return function(){var t=Object(Te.a)(Ae.a.mark((function t(a,r){var n,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(xa.action("USER_REQUEST")),n=jt(r().auth),t.next=5,ga.findById(n,e);case 5:if(!(c=t.sent).error){t.next=9;break}return a(xa.action("USER_ERROR",c.error)),t.abrupt("return");case 9:if(c.data){t.next=11;break}return t.abrupt("return");case 11:a(xa.action("USER_FIND_BY_ID",c.data)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),a(xa.action("USER_ERROR",t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,a){return t.apply(this,arguments)}}()},Sa=function(e,t){return function(){var a=Object(Te.a)(Ae.a.mark((function a(r,n){var c,u;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r(xa.action("USER_REQUEST")),c=jt(n().auth),a.next=5,ga.updateById(c,e,t);case 5:if(!(u=a.sent).error){a.next=9;break}return r(xa.action("USER_ERROR",u.error)),a.abrupt("return");case 9:if(u.data){a.next=11;break}return a.abrupt("return");case 11:r(xa.action("USER_UPDATE_BY_ID",u.data)),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),r(xa.action("USER_ERROR",a.t0));case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e,t){return a.apply(this,arguments)}}()},wa=function(e){return function(){var t=Object(Te.a)(Ae.a.mark((function t(a,r){var n;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(xa.action("USER_REQUEST")),n=jt(r().auth),t.next=5,ga.deleteById(n,e);case 5:a(xa.action("USER_DELETE_BY_ID",{id:e})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a(xa.action("USER_ERROR",t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},Ia=function(){return function(){var e=Object(Te.a)(Ae.a.mark((function e(t){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t(xa.action("USER_RESET"))}catch(a){t(xa.action("USER_ERROR",a))}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Aa=(T=Object($e.Expose)(),C=Object(pa.a)(),D=Object(Ea.a)(),U=function e(){Object(V.a)(this,e),Object(ma.a)(this,"name",N,this)},N=Object(da.a)(U.prototype,"name",[T,C,D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),U),Ta=function(){we();var e=Object(ue.b)(),t=Object(K.m)().id,a=Object(ue.c)((function(e){return e.user})),r=a.loading,n=a.data,c=a.error,u=n.user;Object(F.useEffect)((function(){e(Pa(t))}),[e,t]);var l=Object(F.useMemo)((function(){return We.fromPlain(Aa,u)}),[u]),i=function(){var e=Object(Te.a)(Ae.a.mark((function e(t){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xt.validate(t,Aa);case 3:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),o=function(e){return Xt.isSubmittable(e)},s=function(){var a=Object(Te.a)(Ae.a.mark((function a(r,n){var c;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:c=Xt.getState(r,Aa),e(Sa(t,c)),n.setSubmitting(!1);case 3:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}();return M.a.createElement(M.a.Fragment,null,r&&M.a.createElement(me,null),c&&M.a.createElement(le,{error:c}),M.a.createElement(Vt,null,M.a.createElement("h1",null,"Edit User"),M.a.createElement(Mt.a,{enableReinitialize:!0,initialValues:null!==l&&void 0!==l?l:new Aa,validate:i,onSubmit:s},(function(e){return M.a.createElement(M.a.Fragment,null,M.a.createElement(zt.a,{onSubmit:function(t){return e.handleSubmit(t)},noValidate:!0},M.a.createElement(qt,{schema:e.values,id:"name",type:"text",label:"User Name",placeholder:"User name"}),M.a.createElement(ne.a,{type:"submit",variant:"primary",disabled:!o(e)},e.isSubmitting?"Updating...":"Update")))}))))},Ca=function(){return M.a.createElement(Ta,null)},Da=function(){var e;we();var t=Object(ue.b)(),a=Object(K.k)(),r=Object(ue.c)((function(e){return e.user})),n=r.loading,c=r.data,u=r.error,l=null!==(e=c.users&&c.users.data)&&void 0!==e?e:null;Object(F.useEffect)((function(){t(_a())}),[t]);return M.a.createElement(M.a.Fragment,null,n&&M.a.createElement(me,null),u&&M.a.createElement(le,{error:u}),M.a.createElement("h4",null,"All Users"),M.a.createElement(X.a,null,M.a.createElement(Nt.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},M.a.createElement("thead",null,M.a.createElement("tr",null,M.a.createElement("th",null,"NAME"),M.a.createElement("th",null,"EMAIL"),M.a.createElement("th",null,"ADMIN"),M.a.createElement("th",null))),M.a.createElement("tbody",null,l&&l.map((function(e){return M.a.createElement("tr",{key:e.id},M.a.createElement("td",null,e.name),M.a.createElement("td",null,e.email),M.a.createElement("td",null,e.isAdmin?M.a.createElement(Ut.a,{icon:["fas","check"],color:"green"}):M.a.createElement(Ut.a,{icon:["fas","times"],color:"red"})),M.a.createElement("td",null,M.a.createElement(ne.a,{variant:"light",className:"btn-sm",onClick:function(){return t=e.id,void a.push(je(t));var t}},M.a.createElement(Ut.a,{icon:["fas","edit"]})),M.a.createElement(ne.a,{variant:"danger",className:"btn-sm",onClick:function(){return a=e.id,void(window.confirm("Are you sure?")&&t(wa(a)));var a}},M.a.createElement(Ut.a,{icon:["fas","trash"]}))))}))))))},Ua=function(){return M.a.createElement(Da,null)},Na=a(11),La=function(e){return e?e.reduce((function(e,t){return e+t.quantity}),0):0},Ba=function(){var e=Object(ue.b)(),t=Object(K.k)(),a=Object(ue.c)((function(e){return e.cart})).data.orderItems,r=Object(F.useMemo)((function(){return La(a)}),[a]),n=Object(F.useMemo)((function(){return a?pe(a.reduce((function(e,t){return e+t.quantity*t.price}),0)):0}),[a]),c=Object(F.useCallback)((function(t,a){e(Et(a,Number(t.target.value)))}),[e]),u=Object(F.useCallback)((function(t){e(ft(t))}),[e]),l=Object(F.useCallback)((function(e){return Object(qe.a)(Array(e).keys()).map((function(e){var t=e+1;return M.a.createElement("option",{key:t,value:t},t)}))}),[]),i=function(){return!!(a&&a.length>0)};return M.a.createElement(X.a,null,M.a.createElement(Z.a,{md:8},M.a.createElement("h1",null,"Shopping Cart"),i()?M.a.createElement(ee.a,{variant:"flush"},a&&a.map((function(e){return M.a.createElement(ee.a.Item,{key:e.product},M.a.createElement(X.a,null,M.a.createElement(Z.a,{md:2},M.a.createElement(ae.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),M.a.createElement(Z.a,{md:3},e.name),M.a.createElement(Z.a,{md:2},"$",e.price),M.a.createElement(Z.a,{md:2},M.a.createElement(zt.a.Control,{as:"select",value:e.quantity,onChange:function(t){return c(t,e.product)}},l(e.countInStock))),M.a.createElement(Z.a,{md:3},M.a.createElement(ne.a,{type:"button",variant:"light",onClick:function(){return u(e.product)}},M.a.createElement(Ut.a,{icon:["fas","trash"]})))))}))):M.a.createElement(te.a,{variant:"info"},"Your cart is empty ",M.a.createElement(Na.Link,{to:Se()},"Go Back"))),M.a.createElement(Z.a,{md:4},M.a.createElement(re.a,null,M.a.createElement(ee.a,{variant:"flush"},M.a.createElement(ee.a.Item,null,M.a.createElement("h4",null,"Subtotal (",r,") items"),"$",n),M.a.createElement(ee.a.Item,null,M.a.createElement(ne.a,{type:"button",className:"btn-block",disabled:!i(),onClick:function(){t.push("".concat(fe("shipping")))}},"Proceed To Checkout"))))))},Fa=function(){return M.a.createElement(Ba,null)},Ma=a(90),za=a(366),Ha=function(){return new URLSearchParams(Object(K.l)().search)},Va=a(365),Ya=function(e){var t=e.endpoint,a=e.pageLimit,r=e.totalPages,n=e.currentPage;return M.a.createElement(Va.a,null,Object(qe.a)(Array(r).keys()).map((function(e){return M.a.createElement(Lt.LinkContainer,{key:e+1,to:"".concat(t,"?pageLimit=").concat(a,"&page=").concat(e+1)},M.a.createElement(Va.a.Item,{active:e+1===n},e+1))})))},Ga=a(360),Qa=function(e){var t=e.productsTopRated;return M.a.createElement(M.a.Fragment,null,M.a.createElement(Ga.a,{pause:"hover",className:"bg-dark"},t&&t.map((function(e){return M.a.createElement(Ga.a.Item,{key:e.id},M.a.createElement(Na.Link,{to:xe(e.id)},M.a.createElement(ae.a,{src:Rt(e.image),alt:e.name,fluid:!0}),M.a.createElement(Ga.a.Caption,{className:"carousel-caption"},M.a.createElement("h2",null,e.name," ($",e.price,")"))))}))))},qa=function(e){var t=e.product,a=e.color,r=void 0===a?"#f8e825":a,n=t.rating,c=t.numReviews,u="".concat(c," reviews"),l=Object(F.useCallback)((function(e){return n>=e?["fas","star"]:n>=e-.5?["fas","star-half-alt"]:["far","star"]}),[n]);return M.a.createElement("div",{className:"rating"},[1,2,3,4,5].map((function(e){return M.a.createElement(Ut.a,{key:e,icon:l(e),color:r})})),M.a.createElement("span",null,u&&u))},$a=function(e){var t=e.product;return M.a.createElement(re.a,{className:"my-3 p-3 rounded"},M.a.createElement(Na.Link,{to:xe(t.id)},M.a.createElement(re.a.Img,{src:Rt(t.image),variant:"top"})),M.a.createElement(re.a.Body,null,M.a.createElement(Na.Link,{to:xe(t.id)},M.a.createElement(re.a.Title,{as:"div"},M.a.createElement("strong",null,t.name))),M.a.createElement(re.a.Text,{as:"div"},M.a.createElement(qa,{product:t})),M.a.createElement(re.a.Text,{as:"h3"},"$",t.price)))},Wa=a(53),Ka=a.n(Wa),Ja=function(){return M.a.createElement(re.a,{className:"my-3 p-3 rounded"},M.a.createElement(re.a.Img,{src:"/assets/images/placeholders/default-placeholder-image.png",variant:"top",style:{height:220}}),M.a.createElement(re.a.Body,null,M.a.createElement(re.a.Title,{as:"div"},M.a.createElement("strong",null,M.a.createElement(Ka.a,null))),M.a.createElement(re.a.Text,{as:"div"},M.a.createElement(Ka.a,null)),M.a.createElement(re.a.Text,{as:"h3"},M.a.createElement(Ka.a,null))))},Xa=function(){var e=Array.of(1,2,3,4,5,6);return M.a.createElement(M.a.Fragment,null,M.a.createElement("h1",null,M.a.createElement(Ka.a,{width:400})),M.a.createElement(X.a,null,e&&e.map((function(e,t){return M.a.createElement(Z.a,{key:t,sm:12,md:6,lg:4,xl:3},M.a.createElement(Ja,null))}))))},Za=function(){var e,t,a=Object(ue.b)(),r=Object(K.m)().keyword,n=Ha(),c=Object(za.a)("Products").t,u=null!==(e=n.get("page"))&&void 0!==e?e:void 0,l=null!==(t=n.get("pageLimit"))&&void 0!==t?t:void 0,i=Object(ue.c)((function(e){return e.product})),o=i.loading,s=i.data,m=i.error,d=s.products?s.products.data:null,p=s.products?s.products.paginator:null,E=null!==p&&void 0!==p?p:{},f=E.totalPages,b=void 0===f?1:f,v=E.currentPage,h=void 0===v?1:v,O=s.productsTopRated?s.productsTopRated.data:null;return Object(F.useEffect)((function(){a(ra(r,u,l)),a(na())}),[a,r,u,l]),o?M.a.createElement(Xa,null):M.a.createElement(M.a.Fragment,null,M.a.createElement(Ma.a,null,M.a.createElement("title",null,"Welcome to ProShop | Home"),M.a.createElement("meta",{name:"description",content:"ProShop"})),m&&M.a.createElement(le,{error:m}),M.a.createElement("h4",null,c("common:products.header",{namespace:"common"})),M.a.createElement("h4",null,c("Products:products.header",{namespace:"Products"})),!r&&M.a.createElement(Qa,{productsTopRated:O}),M.a.createElement(X.a,null,d&&d.map((function(e){return M.a.createElement(Z.a,{key:e.id,sm:12,md:6,lg:4,xl:3},M.a.createElement($a,{product:e}))}))),M.a.createElement(Ya,{endpoint:xe(),pageLimit:Number(l),totalPages:b,currentPage:h}))},er=function(){return M.a.createElement(Za,null)},tr=function(){return M.a.createElement(er,null)},ar=function(){return M.a.createElement("div",null,"404 Not Found")},rr=function(){return M.a.createElement(Ct,{queryByUserId:!0})},nr=function(){return M.a.createElement(Bt,{queryByUserId:!0})},cr=a(355),ur=function(e){var t=e.step,a=e.linkUrl,r=e.linkName;return t?M.a.createElement(cr.a.Item,null,M.a.createElement(Lt.LinkContainer,{to:a},M.a.createElement(cr.a.Link,null,r))):M.a.createElement(cr.a.Item,null,M.a.createElement(cr.a.Link,{disabled:!0},r))},lr=function(e){var t=e.step1,a=e.step2,r=e.step3,n=e.step4;return M.a.createElement(cr.a,{className:"justify-content-center mb-4"},M.a.createElement(ur,{step:t,linkUrl:fe(ve()),linkName:"Sign In"}),M.a.createElement(ur,{step:a,linkUrl:ve(),linkName:"Shipping"}),M.a.createElement(ur,{step:r,linkUrl:he(),linkName:"Payment"}),M.a.createElement(ur,{step:n,linkUrl:Oe(),linkName:"Place Order"}))};(B=L||(L={})).PAYPAL="PayPal",B.STRIPE="Stripe";var ir,or,sr,mr,dr,pr,Er,fr,br,vr,hr,Or,Rr,jr,gr,yr,kr,xr,_r,Pr,Sr,wr,Ir=function(){var e=Object(ue.b)(),t=Object(K.k)(),a=Object(ue.c)((function(e){return e.cart})).data,r=a.shippingAddress,n=a.paymentMethod;r||t.push(ve());var c=Object(F.useState)(n||L.PAYPAL),u=Object(J.a)(c,2),l=u[0],i=u[1];return M.a.createElement(Vt,null,M.a.createElement(lr,{step1:!0,step2:!0,step3:!0}),M.a.createElement("h1",null,"Payment Method"),M.a.createElement(zt.a,{onSubmit:function(a){a.preventDefault(),e(vt(l)),t.push(Oe())}},M.a.createElement("fieldset",null,M.a.createElement(zt.a.Group,{as:X.a},M.a.createElement(zt.a.Label,{as:"legend"},"Select Method"),M.a.createElement(Z.a,null,M.a.createElement(zt.a.Check,{type:"radio",name:"paymentMethod",id:"PayPal",label:"PayPal",checked:l===L.PAYPAL,value:L.PAYPAL,onChange:function(e){return i(e.target.value)}}),M.a.createElement(zt.a.Check,{type:"radio",name:"paymentMethod",id:"Stripe",label:"Stripe",checked:l===L.STRIPE,value:L.STRIPE,onChange:function(e){return i(e.target.value)}})))),M.a.createElement(ne.a,{type:"submit",variant:"primary"},"Continue")))},Ar=function(){return M.a.createElement(Ir,null)},Tr=function(){var e=Object(ue.b)(),t=Object(K.k)(),a=Object(ue.c)((function(e){return e.cart})).data,r=a.orderItems,n=a.shippingAddress,c=a.paymentMethod;n||t.push(ve()),c||t.push(he());var u=de(r?r.reduce((function(e,t){return e+t.price*t.quantity}),0):0),l=de(u>100?0:14.99),i=de(.15*u),o=de(u+l+i),s=Object(ue.c)((function(e){return e.order})),m=s.loading,d=s.data,p=s.error,E=d.order;return Object(F.useEffect)((function(){m||p||!E||t.push(Re(E.id))}),[m,p,E,t]),M.a.createElement(M.a.Fragment,null,m&&M.a.createElement(me,null),p&&M.a.createElement(le,{error:p}),M.a.createElement(lr,{step1:!0,step2:!0,step3:!0}),M.a.createElement(X.a,null,M.a.createElement(Z.a,{md:8},M.a.createElement(ee.a,{variant:"flush"},n&&M.a.createElement(ee.a.Item,null,M.a.createElement("h2",null,"Shipping"),M.a.createElement("p",null,n.address,", ",n.city," ",n.postalCode,","," ",n.country)),c&&M.a.createElement(ee.a.Item,null,M.a.createElement("h2",null,"Payment"),M.a.createElement("p",null,c)),M.a.createElement(ee.a.Item,null,M.a.createElement("h2",null,"Order"),r&&0!==r.length?M.a.createElement(ee.a,{variant:"flush"},r&&r.map((function(e,t){return M.a.createElement(ee.a.Item,{key:t},M.a.createElement(X.a,null,M.a.createElement(Z.a,{md:2},M.a.createElement(ae.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),M.a.createElement(Z.a,{md:6},e.name),M.a.createElement(Z.a,{md:4},e.quantity," x $",e.price," = $",pe(e.quantity*e.price))))}))):M.a.createElement(te.a,{variant:"info"},"Your cart is empty ",M.a.createElement(Na.Link,{to:Se()},"Go Back"))))),M.a.createElement(Z.a,{md:4},M.a.createElement(re.a,null,M.a.createElement(ee.a,{variant:"flush"},M.a.createElement(ee.a.Item,null,M.a.createElement("h2",null,"Summary")),M.a.createElement(ee.a.Item,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,null,"Items"),M.a.createElement(Z.a,null,"$",pe(u)))),M.a.createElement(ee.a.Item,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,null,"Shipping"),M.a.createElement(Z.a,null,"$",pe(l)))),M.a.createElement(ee.a.Item,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,null,"Tax"),M.a.createElement(Z.a,null,"$",pe(i)))),M.a.createElement(ee.a.Item,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,null,"Total"),M.a.createElement(Z.a,null,"$",pe(o)))),M.a.createElement(ee.a.Item,null,M.a.createElement(ne.a,{type:"button",className:"btn-block",disabled:!(!m&&!p&&u>0),onClick:function(){r&&e(St({id:"",orderItems:r,shippingAddress:n,paymentMethod:c,orderItemsPrice:u,shippingPrice:l,taxPrice:i,totalPrice:o}))}},"Place Order")))))))},Cr=function(){return M.a.createElement(Tr,null)},Dr=function(e){var t=e.rating,a=e.color,r=void 0===a?"#f8e825":a,n=Object(F.useCallback)((function(e){return t>=e?["fas","star"]:t>=e-.5?["fas","star-half-alt"]:["far","star"]}),[t]);return M.a.createElement("div",{className:"rating"},[1,2,3,4,5].map((function(e){return M.a.createElement(Ut.a,{key:e,icon:n(e),color:r})})))},Ur=function(){var e=Object(ue.b)(),t=Object(K.m)().id,a=Object(ue.c)((function(e){return e.product})),r=a.loading,n=a.data,c=a.error,u=n.product,l=n.review,i=Object(ue.c)((function(e){return e.cart})).error,o=Object(ue.c)((function(e){return e.auth})).data,s=Object(F.useState)(1),m=Object(J.a)(s,2),d=m[0],p=m[1],E=Object(F.useState)(0),f=Object(J.a)(E,2),b=f[0],v=f[1],h=Object(F.useState)(""),O=Object(J.a)(h,2),R=O[0],j=O[1];Object(F.useEffect)((function(){l&&(alert("Review submitted!"),v(0),j("")),e(ca(t))}),[e,t,l]);var g=Object(F.useMemo)((function(){if(u)return Object(qe.a)(Array(u.countInStock).keys()).map((function(e){var t=e+1;return M.a.createElement("option",{key:t,value:t},t)}))}),[u]);return M.a.createElement(M.a.Fragment,null,M.a.createElement(Ma.a,null,M.a.createElement("title",null,u&&u.name)),r&&M.a.createElement(me,null),c&&M.a.createElement(le,{error:c}),i&&M.a.createElement(le,{error:i}),M.a.createElement(Na.Link,{className:"btn btn-light my-3",to:Se()},"Go Back"),u&&M.a.createElement(M.a.Fragment,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,{md:6},M.a.createElement(ae.a,{src:Rt(u.image),alt:u.name,fluid:!0})),M.a.createElement(Z.a,{md:3},M.a.createElement(ee.a,{variant:"flush"},M.a.createElement(ee.a.Item,null,M.a.createElement("h3",null,u.name)),M.a.createElement(ee.a.Item,null,M.a.createElement(qa,{product:u})),M.a.createElement(ee.a.Item,null,"Price: $",u.price),M.a.createElement(ee.a.Item,null,"Description: ",u.description))),M.a.createElement(Z.a,{md:3},M.a.createElement(re.a,null,M.a.createElement(ee.a,{variant:"flush"},M.a.createElement(ee.a.Item,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,null,"Price:"),M.a.createElement(Z.a,null,"$",u.price))),M.a.createElement(ee.a.Item,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,null,"Status:"),M.a.createElement(Z.a,null,u.countInStock>0?"In Stock":"Out of Stock"))),u.countInStock>0&&M.a.createElement(ee.a.Item,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,null,"Quantity:"),M.a.createElement(Z.a,null,M.a.createElement(zt.a.Control,{as:"select",value:d,onChange:function(e){p(Number(e.target.value))}},g)))),M.a.createElement(ee.a.Item,null,M.a.createElement(ne.a,{className:"btn-block",type:"button",disabled:0===u.countInStock,onClick:function(){u&&e(Et(u.id,d))}},"Add To Cart")))))),M.a.createElement(X.a,null,M.a.createElement(Z.a,{md:6},M.a.createElement("h3",null,"Reviews"),!u.reviews||0===u.reviews.length&&M.a.createElement(te.a,{variant:"info"},"No Reviews"),u.reviews&&M.a.createElement(ee.a,{variant:"flush"},u._reviews.map((function(e){return M.a.createElement(ee.a.Item,{key:e.id},M.a.createElement("strong",null,e.name),M.a.createElement(Dr,{rating:e.rating}),M.a.createElement("p",null,e.createdAt&&e.createdAt.substring(0,10)),M.a.createElement("p",null,e.comment))}))),M.a.createElement(ee.a,{variant:"flush"},M.a.createElement("h3",null,"Write a Customer Review"),(!o||!o.user)&&M.a.createElement(te.a,{variant:"info"},"Please"," ",M.a.createElement(Na.Link,{to:fe(xe(t))},"sign in")," to write a review"),o&&o.user&&M.a.createElement(zt.a,{onSubmit:function(a){var r;a.preventDefault();var n={id:"",rating:b,comment:R,user:null!==(r=null===o||void 0===o?void 0:o.user.id)&&void 0!==r?r:"",product:t};e(oa(n))}},M.a.createElement(zt.a.Group,null,M.a.createElement(zt.a.Label,null,"Rating"),M.a.createElement(zt.a.Control,{as:"select",value:b,onChange:function(e){return v(Number(e.target.value))}},M.a.createElement("option",{key:0,value:0},"...Select"),M.a.createElement("option",{key:1,value:1},"1 - Poor"),M.a.createElement("option",{key:2,value:2},"2 - Fair"),M.a.createElement("option",{key:3,value:3},"3 - Good"),M.a.createElement("option",{key:4,value:4},"4 - Very Good"),M.a.createElement("option",{key:5,value:5},"5 - Excelent"))),M.a.createElement(zt.a.Group,null,M.a.createElement(zt.a.Label,null,"Comment"),M.a.createElement(zt.a.Control,{as:"textarea",rows:3,value:R,onChange:function(e){return j(e.target.value)}})),M.a.createElement(ne.a,{type:"submit",variant:"primary",disabled:0===b},"Submit")))))))},Nr=function(){return M.a.createElement(Ur,null)},Lr=function(){we();var e=Object(ue.b)(),t=Object(K.k)(),a=Object(ue.c)((function(e){return e.cart})).data.shippingAddress,r=Object(F.useState)(a?a.address:""),n=Object(J.a)(r,2),c=n[0],u=n[1],l=Object(F.useState)(a?a.city:""),i=Object(J.a)(l,2),o=i[0],s=i[1],m=Object(F.useState)(a?a.postalCode:""),d=Object(J.a)(m,2),p=d[0],E=d[1],f=Object(F.useState)(a?a.country:""),b=Object(J.a)(f,2),v=b[0],h=b[1];return M.a.createElement(Vt,null,M.a.createElement(lr,{step1:!0,step2:!0}),M.a.createElement("h1",null,"Shipping Address"),M.a.createElement(zt.a,{onSubmit:function(a){a.preventDefault(),e(bt({address:c,city:o,postalCode:p,country:v})),t.push(he())}},M.a.createElement(zt.a.Group,{controlId:"address"},M.a.createElement(zt.a.Label,null,"Address"),M.a.createElement(zt.a.Control,{type:"text",placeholder:"Enter address",required:!0,value:c,onChange:function(e){return u(e.target.value)}})),M.a.createElement(zt.a.Group,{controlId:"city"},M.a.createElement(zt.a.Label,null,"City"),M.a.createElement(zt.a.Control,{type:"text",placeholder:"Enter city",required:!0,value:o,onChange:function(e){return s(e.target.value)}})),M.a.createElement(zt.a.Group,{controlId:"postalCode"},M.a.createElement(zt.a.Label,null,"Postal Code"),M.a.createElement(zt.a.Control,{type:"text",placeholder:"Enter postal code",required:!0,value:p,onChange:function(e){return E(e.target.value)}})),M.a.createElement(zt.a.Group,{controlId:"country"},M.a.createElement(zt.a.Label,null,"Country"),M.a.createElement(zt.a.Control,{type:"text",placeholder:"Enter country",required:!0,value:v,onChange:function(e){return h(e.target.value)}})),M.a.createElement(ne.a,{type:"submit",variant:"primary"},"Continue")))},Br=function(){return M.a.createElement(Lr,null)},Fr={signUp:function(){var e=Object(Te.a)(Ae.a.mark((function e(t){var a,r;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat("/auth","/signUp"),e.next=4,Be.baseApi.post(a,t);case 4:return r=e.sent,e.abrupt("return",Promise.resolve(r.data));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),signIn:function(){var e=Object(Te.a)(Ae.a.mark((function e(t){var a,r;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat("/auth","/signIn"),e.next=4,Be.baseApi.post(a,t);case 4:return r=e.sent,e.abrupt("return",Promise.resolve(r.data));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),signOut:function(){var e=Object(Te.a)(Ae.a.mark((function e(){var t,a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat("/auth","/signOut"),e.next=4,Be.baseApi.get(t);case 4:return a=e.sent,e.abrupt("return",Promise.resolve(a.data));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},Mr=function e(){Object(V.a)(this,e),this.user=void 0,this.authToken=void 0},zr=function(e){Object(Q.a)(a,e);var t=Object(G.a)(a);function a(){return Object(V.a)(this,a),t.call(this,"AUTH_AUTH_DATA",Mr)}return a}(Ke),Hr=function(e,t){return{type:e,payload:t}},Vr={loading:!1,data:(new zr).find(),error:null},Yr={action:Hr,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"AUTH_REQUEST":return Object(Ce.a)({},e,{loading:!0,error:null});case"SIGNUP":case"SIGNIN":return Object(Ce.a)({},e,{loading:!1,error:null,data:r});case"SIGNOUT":return Object(Ce.a)({},e,{loading:!1,error:null,data:null});case"AUTH_ERROR":return Object(Ce.a)({},e,{loading:!1,error:r});default:return e}}},Gr=new zr,Qr=function(e){return function(){var t=Object(Te.a)(Ae.a.mark((function t(a){var r;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Yr.action("AUTH_REQUEST")),t.next=4,Fr.signUp(e);case 4:if(!(r=t.sent).error){t.next=8;break}return a(Yr.action("AUTH_ERROR",r.error)),t.abrupt("return");case 8:if(r.data){t.next=10;break}return t.abrupt("return");case 10:a(Yr.action("SIGNUP",r.data)),Gr.save(r.data),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),a(Yr.action("AUTH_ERROR",t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},qr=function(e){return function(){var t=Object(Te.a)(Ae.a.mark((function t(a){var r;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(Yr.action("AUTH_REQUEST")),t.next=4,Fr.signIn(e);case 4:if(!(r=t.sent).error){t.next=8;break}return a(Yr.action("AUTH_ERROR",r.error)),t.abrupt("return");case 8:if(r.data){t.next=10;break}return t.abrupt("return");case 10:a(Yr.action("SIGNIN",r.data)),Gr.save(r.data),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),a(Yr.action("AUTH_ERROR",t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},$r=function(){return function(){var e=Object(Te.a)(Ae.a.mark((function e(t){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Yr.action("AUTH_REQUEST")),e.next=4,Fr.signOut();case 4:if(!(a=e.sent).error){e.next=8;break}return t(Yr.action("AUTH_ERROR",a.error)),e.abrupt("return");case 8:if(a.data){e.next=10;break}return e.abrupt("return");case 10:t(Yr.action("SIGNOUT")),Gr.remove(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t(Yr.action("AUTH_ERROR",e.t0));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},Wr=function(e){var t=Ha(),a=Object(K.k)(),r=t.get("redirect");return Object(F.useEffect)((function(){e&&a.push(r||Se())}),[e,a,r]),r},Kr=function(){var e=Object(ue.b)(),t=Object(ue.c)((function(e){return e.auth})),a=t.loading,r=t.data,n=t.error,c=Wr(r),u=Object(F.useState)(""),l=Object(J.a)(u,2),i=l[0],o=l[1],s=Object(F.useState)(""),m=Object(J.a)(s,2),d=m[0],p=m[1];return M.a.createElement(M.a.Fragment,null,a&&M.a.createElement(me,null),n&&M.a.createElement(le,{error:n}),M.a.createElement(Vt,null,M.a.createElement("h1",null,"Sign In"),M.a.createElement(zt.a,{onSubmit:function(t){t.preventDefault(),e(qr({email:i,password:d}))}},M.a.createElement(zt.a.Group,{controlId:"email"},M.a.createElement(zt.a.Label,null,"Email Address"),M.a.createElement(zt.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return o(e.target.value)}})),M.a.createElement(zt.a.Group,{controlId:"password"},M.a.createElement(zt.a.Label,null,"Password"),M.a.createElement(zt.a.Control,{type:"password",placeholder:"Enter password",value:d,onChange:function(e){return p(e.target.value)}})),M.a.createElement(ne.a,{type:"submit",variant:"primary"},"Sign In")),M.a.createElement(X.a,{className:"py-3"},M.a.createElement(Z.a,null,"New Customer?"," ",M.a.createElement(Na.Link,{to:c?"".concat(Ee(c)):Ee()},"Sign Up")))))},Jr=function(){return M.a.createElement(Kr,null)},Xr=function(e){var t=e.errors;return 0===t.length?null:M.a.createElement(te.a,{variant:"danger"},t.map((function(e,t){return M.a.createElement("span",{key:t,style:Zr.container},e)})))},Zr={container:{display:"block"}},en=a(356),tn=a(357),an=function(e){return"Must be at least ".concat(e," characters")},rn=(ir=Object($e.Exclude)(),or=Object($e.Expose)(),sr=Object(pa.a)(),mr=Object(Ea.a)(),dr=Object($e.Expose)(),pr=Object(pa.a)(),Er=Object(en.a)(),fr=Object(Ea.a)(),br=Object($e.Expose)(),vr=Object(pa.a)(),hr=Object(Ea.a)({message:"Should not be empty"}),Or=Object(tn.a)(6,{message:an("$constraint1")}),Rr=Object($e.Expose)(),jr=Object(pa.a)(),gr=Object(Ea.a)(),yr=Object(tn.a)(6),kr=function e(){Object(V.a)(this,e),Object(ma.a)(this,"id",xr,this),Object(ma.a)(this,"name",_r,this),Object(ma.a)(this,"email",Pr,this),Object(ma.a)(this,"password",Sr,this),Object(ma.a)(this,"confirmPassword",wr,this)},xr=Object(da.a)(kr.prototype,"id",[ir],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_r=Object(da.a)(kr.prototype,"name",[or,sr,mr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pr=Object(da.a)(kr.prototype,"email",[dr,pr,Er,fr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sr=Object(da.a)(kr.prototype,"password",[br,vr,hr,Or],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wr=Object(da.a)(kr.prototype,"confirmPassword",[Rr,jr,gr,yr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),kr),nn=function(){var e=Object(ue.b)(),t=Object(ue.c)((function(e){return e.auth})),a=t.loading,r=t.data,n=t.error,c=Wr(r),u=Object(F.useState)([]),l=Object(J.a)(u,2),i=l[0],o=l[1],s=Object(F.useMemo)((function(){return new rn}),[]),m=function(){var e=Object(Te.a)(Ae.a.mark((function e(t){var a;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xt.validate(t,rn);case 3:return a=e.sent,e.abrupt("return",Promise.resolve(a));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){return Xt.isSubmittable(e)},p=function(){var t=Object(Te.a)(Ae.a.mark((function t(a,r){var n;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=Xt.getState(a,rn)).password!==n.confirmPassword?o(["Passwords do not match"]):e(Qr(n)),r.setSubmitting(!1);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return M.a.createElement(M.a.Fragment,null,a&&M.a.createElement(me,null),n&&M.a.createElement(le,{error:n}),M.a.createElement(Vt,null,M.a.createElement("h1",null,"Sign Up"),M.a.createElement(Mt.a,{initialValues:s,validate:m,onSubmit:p},(function(e){return M.a.createElement(M.a.Fragment,null,M.a.createElement(Xr,{errors:i}),M.a.createElement(zt.a,{onSubmit:function(t){return e.handleSubmit(t)},noValidate:!0},M.a.createElement(qt,{schema:e.values,id:"name",type:"text",label:"User Name",placeholder:"User name"}),M.a.createElement(qt,{schema:e.values,id:"email",type:"email",label:"Email Address",placeholder:"Email address"}),M.a.createElement(qt,{schema:e.values,id:"password",type:"password",label:"Password",placeholder:"Password",helpText:an("6"),instantFeedback:!0}),M.a.createElement(qt,{schema:e.values,id:"confirmPassword",type:"password",label:"Confirm Password",placeholder:"Confirm password"}),M.a.createElement(ne.a,{type:"submit",variant:"primary",disabled:!d(e)},e.isSubmitting?"Sign Up...":"Sign Up")))})),M.a.createElement(X.a,{className:"py-3"},M.a.createElement(Z.a,null,"Have an Account?"," ",M.a.createElement(Na.Link,{to:c?"".concat(fe(c)):fe()},"Sign In")))))},cn=function(){return M.a.createElement(nn,null)},un=function(){return M.a.createElement("div",null,"401 Unauthorized")},ln=function(){return M.a.createElement(K.g,null,M.a.createElement(K.d,{exact:!0,path:"/unauthorized",component:un}),M.a.createElement(K.d,{exact:!0,path:"/signup",component:cn}),M.a.createElement(K.d,{exact:!0,path:"/signin",component:Jr}),M.a.createElement(K.d,{exact:!0,path:"/products",component:er}),M.a.createElement(K.d,{exact:!0,path:"/products/:id",component:Nr}),M.a.createElement(K.d,{path:"/cart",component:Fa}),M.a.createElement(K.d,{path:"/shipping",component:Br}),M.a.createElement(K.d,{path:"/payment",component:Ar}),M.a.createElement(K.d,{path:"/placeorder",component:Cr}),M.a.createElement(K.d,{exact:!0,path:"/user/orders",component:nr}),M.a.createElement(K.d,{exact:!0,path:"/user/orders/:id",component:rr}),M.a.createElement(K.d,{exact:!0,path:"/admin/users",component:Ua}),M.a.createElement(K.d,{exact:!0,path:"/admin/users/:id",component:Ca}),M.a.createElement(K.d,{exact:!0,path:"/admin/orders",component:Ft}),M.a.createElement(K.d,{exact:!0,path:"/admin/orders/:id",component:Dt}),M.a.createElement(K.d,{exact:!0,path:"/admin/products",component:ja}),M.a.createElement(K.d,{exact:!0,path:"/admin/products/create",component:ha}),M.a.createElement(K.d,{exact:!0,path:"/admin/products/:id",component:Oa}),M.a.createElement(K.d,{exact:!0,path:"/search/:keyword",component:tr}),M.a.createElement(K.d,{exact:!0,path:"/",component:tr}),M.a.createElement(K.d,{component:ar}))},on=function(){return M.a.createElement("main",{className:"py-3"},M.a.createElement(W.a,null,M.a.createElement(ln,null)))},sn=function(){return M.a.createElement("div",null,M.a.createElement(W.a,null,M.a.createElement(X.a,null,M.a.createElement(Z.a,{className:"text-center py-3"},"Copyright \xa9 ProShop"))))},mn=a(361),dn=a(359),pn=function(){var e=Object(K.k)(),t=Object(F.useState)(""),a=Object(J.a)(t,2),r=a[0],n=a[1];return M.a.createElement(zt.a,{onSubmit:function(t){t.preventDefault(),r.trim()?e.push(Pe(r.trim())):e.push(Se())},inline:!0},M.a.createElement(zt.a.Control,{type:"text",name:"q",onChange:function(e){return n(e.target.value)},placeholder:"Search...",className:"mr-sm-2 ml-sm-5"}),M.a.createElement(ne.a,{type:"submit",variant:"outline-success",className:"p-2"},"Search"))},En=function(){var e=Object(za.a)().i18n,t=Object(ue.b)(),a=Object(ue.c)((function(e){return e.auth})).data,r=Object(ue.c)((function(e){return e.cart})).data.orderItems,n=Object(F.useMemo)((function(){return La(r)}),[r]),c=function(t){e.changeLanguage(t)};return M.a.createElement("header",null,M.a.createElement(mn.a,{bg:"dark",variant:"dark",expand:"lg"},M.a.createElement(W.a,null,M.a.createElement(Lt.LinkContainer,{to:Se()},M.a.createElement(mn.a.Brand,null,"ProShop")),M.a.createElement(mn.a.Toggle,{"aria-controls":"basic-navbar-nav"}),M.a.createElement(pn,null),M.a.createElement(mn.a.Collapse,{id:"basic-navbar-nav"},M.a.createElement(cr.a,{className:"ml-auto"},M.a.createElement(dn.a,{title:"Language",id:"language"},M.a.createElement(dn.a.Item,{onClick:function(){return c("en")}},"English"),M.a.createElement(dn.a.Item,{onClick:function(){return c("de")}},"German")),M.a.createElement(Lt.LinkContainer,{to:be()},M.a.createElement(cr.a.Link,null,n>0&&M.a.createElement("span",null,n),M.a.createElement(Ut.a,{icon:["fas","shopping-cart"]}),"Cart")),a?M.a.createElement(dn.a,{title:a.user.name,id:"user"},M.a.createElement(Lt.LinkContainer,{to:Re()},M.a.createElement(dn.a.Item,null,"My Orders")),M.a.createElement(dn.a.Item,{onClick:function(){t($r()),t(ht()),t(Tt()),t(Ia())}},"Sign Out")):M.a.createElement(Lt.LinkContainer,{to:fe()},M.a.createElement(cr.a.Link,null,M.a.createElement(Ut.a,{icon:["fas","user"]}),"Sign In")),a&&a.user.isAdmin&&M.a.createElement(dn.a,{title:"Admin",id:"admin"},M.a.createElement(Lt.LinkContainer,{to:je()},M.a.createElement(dn.a.Item,null,"All Users")),M.a.createElement(Lt.LinkContainer,{to:ge()},M.a.createElement(dn.a.Item,null,"All Orders")),M.a.createElement(Lt.LinkContainer,{to:ye()},M.a.createElement(dn.a.Item,null,"All Products"))))))))},fn=a(114),bn=a(166),vn=a(167),hn=a(72);fn.a.use(bn.a).use(hn.e).use(vn.a).init({backend:{loadPath:"/assets/locales/{{lng}}/{{ns}}.json"},ns:["common"],defaultNS:"common",nonExplicitSupportedLngs:!0,supportedLngs:["en","de"],load:"languageOnly",fallbackLng:!1,debug:!1,interpolation:{escapeValue:!1}});fn.a;var On=function(e){var t=e.children;return M.a.createElement(M.a.Suspense,{fallback:M.a.createElement(oe,null)},t)},Rn=function(e){var t=e.children;return M.a.createElement(Na.BrowserRouter,null,t)},jn=function(e){var t=e.children;return M.a.createElement(Wa.SkeletonTheme,null,t)},gn=a(57),yn=a(169),kn=a(170),xn=Object(gn.combineReducers)({auth:Yr.reducer,product:aa.reducer,user:xa.reducer,cart:pt.reducer,order:xt.reducer}),_n=[kn.a],Pn=Object(gn.createStore)(xn,{},Object(yn.composeWithDevTools)(gn.applyMiddleware.apply(void 0,_n))),Sn=function(e){var t=e.children;return M.a.createElement(ue.a,{store:Pn},t)},wn=(a(307),a(67)),In=a(172),An=a(171),Tn=a(100),Cn=function(){return function(){Object(Tn.cleanEnv)(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_ENV_NAME:"Default",REACT_APP_APP_API_URL:"http://127.0.0.1:5000/v1/api",REACT_APP_STORAGE_KEY_PREFIX:"PRO_SHOP_"}),{REACT_APP_ENV_NAME:Object(Tn.str)(),REACT_APP_APP_API_URL:Object(Tn.str)()});q("App started in mode ".concat("Default"))}(),wn.b.add(An.a,In.a),null},Dn=function(){return M.a.createElement($,null,M.a.createElement(Cn,null),M.a.createElement(Sn,null,M.a.createElement(Rn,null,M.a.createElement(jn,null,M.a.createElement(On,null,M.a.createElement(En,null),M.a.createElement(on,null),M.a.createElement(sn,null))))))};a(341),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));H.a.render(M.a.createElement(Dn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[180,1,2]]]);
//# sourceMappingURL=main.02ead36d.chunk.js.map