@protocol = HTTP/1.1
@host = http://localhost
@port = 8080
@baseUrl = /v1/api/products
@url = {{host}}:{{port}}{{baseUrl}}
@contentTypeJson = application/json
@contentTypeFormData = multipart/form-data
@entityId = 5f9a9744e07c97391c49c659
@authCookie = Authorization=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1Zjk1YzE2OGM1ZDRjMDkyYjNhZmVlZTYiLCJpYXQiOjE2MDM2NDk4OTgsImV4cCI6MTYwMzY3ODY5OH0.bHREuS-H71gXUkFSwXei-VXGgMdWg4S7LXjYSl0Ruqc; HttpOnly; Max-Age=28800
@authHeader = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI1ZmZkODFkODU2ZGM3Njg3MTllNmVjM2EiLCJpYXQiOjE2MTA0NDkzNjgsImV4cCI6MTYxMDQ3ODE2OH0.jk96gPq_XsnVjKhzyBOwZGc72KHae-nd_HJ8k7hsdNc
### head
HEAD {{url}} {{protocol}}

### head
HEAD {{url}}/{{entityId}} {{protocol}}

### options
OPTIONS {{url}} {{protocol}}

### options
OPTIONS {{url}}/{{entityId}} {{protocol}}

### findAll
GET {{url}} {{protocol}}
Content-Type: {{contentTypeJson}}
Authorization: {{authHeader}}

### findAll with params
GET {{url}}?keyword=phone {{protocol}}
Content-Type: {{contentTypeJson}}

### findAll with a paginator
GET {{url}}?page=1&pageLimit=2 {{protocol}}
Content-Type: {{contentTypeJson}}

### findAll top 3 rated
GET {{url}}?sort=-rating&pageLimit=3 {{protocol}}
Content-Type: {{contentTypeJson}}

### findById
GET {{url}}/{{entityId}} {{protocol}}
Content-Type: {{contentTypeJson}}

### save
POST {{url}} {{protocol}}
Content-Type: {{contentTypeJson}}
# Cookie: {{authCookie}}
Authorization: {{authHeader}}

{
    "name": "Test Product",
    "image": "/assets/images/airpods.jpg",
    "description": "test description...",
    "brand": "Apple",
    "category": "Electronics",
    "price": 109.99,
    "countInStock": 12,
    "rating": 4.8,
    "numReviews": 17,
    "user": "5f9a9744e07c97391c49c656"
}

### updateById
PATCH {{url}}/{{entityId}} {{protocol}}
Content-Type: {{contentTypeJson}}
# Cookie: {{authCookie}}
Authorization: {{authHeader}}

{
  "reviews": [
    "5fc7ae581a2c9a6ab272309b"
  ],
  "numReviews": 1,
  "rating": 3.5
}

### deleteById
DELETE {{url}}/{{entityId}} {{protocol}}
Content-Type: {{contentTypeJson}}
# Cookie: {{authCookie}}
Authorization: {{authHeader}}

### upload image
POST {{url}}/upload?field=image&imageFileType=true {{protocol}}
Content-Type: {{contentTypeFormData}}
